var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n=function(e){return e&&e.Math==Math&&e};t=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")();var r,o;r=!(o=function(e){try{return!!e()}catch(e){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var a,i,c,l={};c=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}));var u=Function.prototype,s=u.call,f=c&&u.bind.bind(s,s);l=c?f:function(e){return function(){return s.apply(e,arguments)}};var p,d={},h="object"==typeof document&&document.all,y=(p={all:h,IS_HTMLDDA:void 0===h&&void 0!==h}).all;d=p.IS_HTMLDDA?function(e){return"function"==typeof e||e===y}:function(e){return"function"==typeof e};var m,v,g,b={};g=function(e){return null==e};var S=TypeError;v=function(e){if(g(e))throw S("Can't call method on "+e);return e};var w=Object;m=function(e){return w(v(e))};var L=l({}.hasOwnProperty);b=Object.hasOwn||function(e,t){return L(m(e),t)};var T,_=Function.prototype,M=r&&Object.getOwnPropertyDescriptor,E=b(_,"name"),q={EXISTS:E,PROPER:E&&"something"===function(){}.name,CONFIGURABLE:E&&(!r||r&&M(_,"name").configurable)}.CONFIGURABLE,O={},j={},H=Object.defineProperty;T=function(e,n){try{H(t,e,{value:n,configurable:!0,writable:!0})}catch(r){t[e]=n}return n};var k="__core-js_shared__",P=t[k]||T(k,{});j=P;var x=l(Function.toString);d(j.inspectSource)||(j.inspectSource=function(e){return x(e)}),O=j.inspectSource;var A,C,D=t.WeakMap;C=d(D)&&/native code/.test(String(D));var I={},$=p.all;I=p.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:d(e)||e===$}:function(e){return"object"==typeof e?null!==e:d(e)};var F,N,G,R={},z=t.document,B=I(z)&&I(z.createElement);G=function(e){return B?z.createElement(e):{}},N=!r&&!o((function(){return 7!=Object.defineProperty(G("div"),"a",{get:function(){return 7}}).a}));var K;K=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var U,W=String,Y=TypeError;U=function(e){if(I(e))return e;throw Y(W(e)+" is not an object")};var X,Z,J={},Q=Function.prototype.call;J=c?Q.bind(Q):function(){return Q.apply(Q,arguments)};var V,ee={},te=function(e){return d(e)?e:void 0};V=function(e,n){return arguments.length<2?te(t[e]):t[e]&&t[e][n]};var ne={};ne=l({}.isPrototypeOf);var re,oe,ae,ie={};ie="undefined"!=typeof navigator&&String(navigator.userAgent)||"";var ce,le,ue=t.process,se=t.Deno,fe=ue&&ue.versions||se&&se.version,pe=fe&&fe.v8;pe&&(le=(ce=pe.split("."))[0]>0&&ce[0]<4?1:+(ce[0]+ce[1])),!le&&ie&&(!(ce=ie.match(/Edge\/(\d+)/))||ce[1]>=74)&&(ce=ie.match(/Chrome\/(\d+)/))&&(le=+ce[1]),ae=le,re=(oe=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ae&&ae<41})))&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var de=Object;ee=re?function(e){return"symbol"==typeof e}:function(e){var t=V("Symbol");return d(t)&&ne(t.prototype,de(e))};var he,ye,me,ve=String;me=function(e){try{return ve(e)}catch(e){return"Object"}};var ge=TypeError;ye=function(e){if(d(e))return e;throw ge(me(e)+" is not a function")},he=function(e,t){var n=e[t];return g(n)?void 0:ye(n)};var be,Se=TypeError;be=function(e,t){var n,r;if("string"===t&&d(n=e.toString)&&!I(r=J(n,e)))return r;if(d(n=e.valueOf)&&!I(r=J(n,e)))return r;if("string"!==t&&d(n=e.toString)&&!I(r=J(n,e)))return r;throw Se("Can't convert object to primitive value")};var we;(we=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Le,Te=0,_e=Math.random(),Me=l(1..toString);Le=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Me(++Te+_e,36)};var Ee=t.Symbol,qe=we("wks"),Oe=re?Ee.for||Ee:Ee&&Ee.withoutSetter||Le,je=TypeError,He=function(e){return b(qe,e)||(qe[e]=oe&&b(Ee,e)?Ee[e]:Oe("Symbol."+e)),qe[e]}("toPrimitive");Z=function(e,t){if(!I(e)||ee(e))return e;var n,r=he(e,He);if(r){if(void 0===t&&(t="default"),n=J(r,e,t),!I(n)||ee(n))return n;throw je("Can't convert object to primitive value")}return void 0===t&&(t="number"),be(e,t)},X=function(e){var t=Z(e,"string");return ee(t)?t:t+""};var ke=TypeError,Pe=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,Ae="enumerable",Ce="configurable",De="writable";F=r?K?function(e,t,n){if(U(e),t=X(t),U(n),"function"==typeof e&&"prototype"===t&&"value"in n&&De in n&&!n[De]){var r=xe(e,t);r&&r[De]&&(e[t]=n.value,n={configurable:Ce in n?n[Ce]:r[Ce],enumerable:Ae in n?n[Ae]:r[Ae],writable:!1})}return Pe(e,t,n)}:Pe:function(e,t,n){if(U(e),t=X(t),U(n),N)try{return Pe(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ke("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Ie;Ie=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},R=r?function(e,t,n){return F(e,t,Ie(1,n))}:function(e,t,n){return e[t]=n,e};var $e,Fe=we("keys");$e=function(e){return Fe[e]||(Fe[e]=Le(e))};var Ne={};Ne={};var Ge,Re,ze,Be="Object already initialized",Ke=t.TypeError,Ue=t.WeakMap;if(C||j.state){var We=j.state||(j.state=new Ue);We.get=We.get,We.has=We.has,We.set=We.set,Ge=function(e,t){if(We.has(e))throw Ke(Be);return t.facade=e,We.set(e,t),t},Re=function(e){return We.get(e)||{}},ze=function(e){return We.has(e)}}else{var Ye=$e("state");Ne[Ye]=!0,Ge=function(e,t){if(b(e,Ye))throw Ke(Be);return t.facade=e,R(e,Ye,t),t},Re=function(e){return b(e,Ye)?e[Ye]:{}},ze=function(e){return b(e,Ye)}}var Xe=(A={set:Ge,get:Re,has:ze,enforce:function(e){return ze(e)?Re(e):Ge(e,{})},getterFor:function(e){return function(t){var n;if(!I(t)||(n=Re(t)).type!==e)throw Ke("Incompatible receiver, "+e+" required");return n}}}).enforce,Ze=A.get,Je=String,Qe=Object.defineProperty,Ve=l("".slice),et=l("".replace),tt=l([].join),nt=r&&!o((function(){return 8!==Qe((function(){}),"length",{value:8}).length})),rt=String(String).split("String"),ot=i=function(e,t,n){"Symbol("===Ve(Je(t),0,7)&&(t="["+et(Je(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!b(e,"name")||q&&e.name!==t)&&(r?Qe(e,"name",{value:t,configurable:!0}):e.name=t),nt&&n&&b(n,"arity")&&e.length!==n.arity&&Qe(e,"length",{value:n.arity});try{n&&b(n,"constructor")&&n.constructor?r&&Qe(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=Xe(e);return b(o,"source")||(o.source=tt(rt,"string"==typeof t?t:"")),e};Function.prototype.toString=ot((function(){return d(this)&&Ze(this).source||O(this)}),"toString"),a=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),F(e,t,n)};var at;at=function(){var e=U(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t};var it=t.RegExp,ct=it.prototype;r&&o((function(){var e=!0;try{it(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(ct,"flags").get.call(t)!==r||n!==r}))&&a(ct,"flags",{configurable:!0,get:at});var lt,ut,st,ft={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,dt=pt&&!ft.call({1:2},1);st=dt?function(e){var t=pt(this,e);return!!t&&t.enumerable}:ft;var ht,yt,mt={},vt=l({}.toString),gt=l("".slice);yt=function(e){return gt(vt(e),8,-1)};var bt=Object,St=l("".split);mt=o((function(){return!bt("z").propertyIsEnumerable(0)}))?function(e){return"String"==yt(e)?St(e,""):bt(e)}:bt,ht=function(e){return mt(v(e))};var wt,Lt=Object.getOwnPropertyDescriptor,Tt=ut=r?Lt:function(e,t){if(e=ht(e),t=X(t),N)try{return Lt(e,t)}catch(e){}if(b(e,t))return Ie(!J(st,e,t),e[t])};wt=function(e,t,n,r){r||(r={});var o=r.enumerable,a=void 0!==r.name?r.name:t;if(d(n)&&i(n,a,r),r.global)o?e[t]=n:T(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:F(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e};var _t,Mt,Et,qt,Ot,jt={},Ht={},kt=Math.ceil,Pt=Math.floor;Ht=Math.trunc||function(e){var t=+e;return(t>0?Pt:kt)(t)},Ot=function(e){var t=+e;return t!=t||0===t?0:Ht(t)};var xt=Math.max,At=Math.min;qt=function(e,t){var n=Ot(e);return n<0?xt(n+t,0):At(n,t)};var Ct,Dt,It=Math.min;Dt=function(e){return e>0?It(Ot(e),9007199254740991):0},Ct=function(e){return Dt(e.length)};var $t=function(e){return function(t,n,r){var o,a=ht(t),i=Ct(a),c=qt(r,i);if(e&&n!=n){for(;i>c;)if((o=a[c++])!=o)return!0}else for(;i>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}},Ft={includes:$t(!0),indexOf:$t(!1)}.indexOf,Nt=l([].push);Et=function(e,t){var n,r=ht(e),o=0,a=[];for(n in r)!b(Ne,n)&&b(r,n)&&Nt(a,n);for(;t.length>o;)b(r,n=t[o++])&&(~Ft(a,n)||Nt(a,n));return a};var Gt,Rt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Mt=Object.getOwnPropertyNames||function(e){return Et(e,Rt)},Gt=Object.getOwnPropertySymbols;var zt=l([].concat);jt=V("Reflect","ownKeys")||function(e){var t=Mt(U(e));return Gt?zt(t,Gt(e)):t},_t=function(e,t,n){for(var r=jt(t),o=F,a=ut,i=0;i<r.length;i++){var c=r[i];b(e,c)||n&&b(n,c)||o(e,c,a(t,c))}};var Bt={},Kt=/#|\.prototype\./,Ut=function(e,t){var n=Yt[Wt(e)];return n==Zt||n!=Xt&&(d(t)?o(t):!!t)},Wt=Ut.normalize=function(e){return String(e).replace(Kt,".").toLowerCase()},Yt=Ut.data={},Xt=Ut.NATIVE="N",Zt=Ut.POLYFILL="P";Bt=Ut,lt=function(e,n){var r,o,a,i,c,l=e.target,u=e.global,s=e.stat;if(r=u?t:s?t[l]||T(l,{}):(t[l]||{}).prototype)for(o in n){if(i=n[o],a=e.dontCallGetSet?(c=Tt(r,o))&&c.value:r[o],!Bt(u?o:l+(s?".":"#")+o,e.forced)&&void 0!==a){if(typeof i==typeof a)continue;_t(i,a)}(e.sham||a&&a.sham)&&R(i,"sham",!0),wt(r,o,i,e)}};var Jt,Qt={},Vt=Function.prototype,en=Vt.apply,tn=Vt.call;Qt="object"==typeof Reflect&&Reflect.apply||(c?tn.bind(en):function(){return tn.apply(en,arguments)});var nn,rn,on=(rn=function(e){if("Function"===yt(e))return l(e)})(rn.bind);nn=function(e,t){return ye(e),void 0===t?e:c?on(e,t):function(){return e.apply(t,arguments)}};var an={};an=V("document","documentElement");var cn={};cn=l([].slice);var ln={},un=TypeError;ln=function(e,t){if(e<t)throw un("Not enough arguments");return e};var sn;sn=/(?:ipad|iphone|ipod).*applewebkit/i.test(ie);var fn,pn,dn,hn,yn=pn={};function mn(){throw new Error("setTimeout has not been defined")}function vn(){throw new Error("clearTimeout has not been defined")}function gn(e){if(dn===setTimeout)return setTimeout(e,0);if((dn===mn||!dn)&&setTimeout)return dn=setTimeout,setTimeout(e,0);try{return dn(e,0)}catch(t){try{return dn.call(null,e,0)}catch(t){return dn.call(this,e,0)}}}!function(){try{dn="function"==typeof setTimeout?setTimeout:mn}catch(e){dn=mn}try{hn="function"==typeof clearTimeout?clearTimeout:vn}catch(e){hn=vn}}();var bn,Sn=[],wn=!1,Ln=-1;function Tn(){wn&&bn&&(wn=!1,bn.length?Sn=bn.concat(Sn):Ln=-1,Sn.length&&_n())}function _n(){if(!wn){var e=gn(Tn);wn=!0;for(var t=Sn.length;t;){for(bn=Sn,Sn=[];++Ln<t;)bn&&bn[Ln].run();Ln=-1,t=Sn.length}bn=null,wn=!1,function(e){if(hn===clearTimeout)return clearTimeout(e);if((hn===vn||!hn)&&clearTimeout)return hn=clearTimeout,clearTimeout(e);try{return hn(e)}catch(t){try{return hn.call(null,e)}catch(t){return hn.call(this,e)}}}(e)}}function Mn(e,t){this.fun=e,this.array=t}function En(){}yn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Sn.push(new Mn(e,t)),1!==Sn.length||wn||gn(_n)},Mn.prototype.run=function(){this.fun.apply(null,this.array)},yn.title="browser",yn.browser=!0,yn.env={},yn.argv=[],yn.version="",yn.versions={},yn.on=En,yn.addListener=En,yn.once=En,yn.off=En,yn.removeListener=En,yn.removeAllListeners=En,yn.emit=En,yn.prependListener=En,yn.prependOnceListener=En,yn.listeners=function(e){return[]},yn.binding=function(e){throw new Error("process.binding is not supported")},yn.cwd=function(){return"/"},yn.chdir=function(e){throw new Error("process.chdir is not supported")},yn.umask=function(){return 0},fn=void 0!==pn&&"process"==yt(pn);var qn,On,jn,Hn,kn=t.setImmediate,Pn=t.clearImmediate,xn=t.process,An=t.Dispatch,Cn=t.Function,Dn=t.MessageChannel,In=t.String,$n=0,Fn={},Nn="onreadystatechange";o((function(){qn=t.location}));var Gn=function(e){if(b(Fn,e)){var t=Fn[e];delete Fn[e],t()}},Rn=function(e){return function(){Gn(e)}},zn=function(e){Gn(e.data)},Bn=function(e){t.postMessage(In(e),qn.protocol+"//"+qn.host)};kn&&Pn||(kn=function(e){ln(arguments.length,1);var t=d(e)?e:Cn(e),n=cn(arguments,1);return Fn[++$n]=function(){Qt(t,void 0,n)},On($n),$n},Pn=function(e){delete Fn[e]},fn?On=function(e){xn.nextTick(Rn(e))}:An&&An.now?On=function(e){An.now(Rn(e))}:Dn&&!sn?(Hn=(jn=new Dn).port2,jn.port1.onmessage=zn,On=nn(Hn.postMessage,Hn)):t.addEventListener&&d(t.postMessage)&&!t.importScripts&&qn&&"file:"!==qn.protocol&&!o(Bn)?(On=Bn,t.addEventListener("message",zn,!1)):On=Nn in G("script")?function(e){an.appendChild(G("script"))[Nn]=function(){an.removeChild(this),Gn(e)}}:function(e){setTimeout(Rn(e),0)});var Kn=(Jt={set:kn,clear:Pn}).clear;lt({global:!0,bind:!0,enumerable:!0,forced:t.clearImmediate!==Kn},{clearImmediate:Kn});var Un,Wn,Yn=Jt.set;Wn="function"==typeof Bun&&Bun&&"string"==typeof Bun.version;var Xn,Zn=t.Function,Jn=/MSIE .\./.test(ie)||Wn&&((Xn=t.Bun.version.split(".")).length<3||0==Xn[0]&&(Xn[1]<3||3==Xn[1]&&0==Xn[2]));Un=function(e,t){var n=t?2:1;return Jn?function(r,o){var a=ln(arguments.length,1)>n,i=d(r)?r:Zn(r),c=a?cn(arguments,n):[],l=a?function(){Qt(i,this,c)}:i;return t?e(l,o):e(l)}:e};var Qn=t.setImmediate?Un(Yn,!1):Yn;lt({global:!0,bind:!0,enumerable:!0,forced:t.setImmediate!==Qn},{setImmediate:Qn});var Vn=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new H(r||[]);return o(i,"_invoke",{value:E(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",m={};function v(){}function g(){}function b(){}var S={};u(S,i,(function(){return this}));var w=Object.getPrototypeOf,L=w&&w(w(k([])));L&&L!==n&&r.call(L,i)&&(S=L);var T=b.prototype=v.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,n){var r=p;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=q(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=f(e,t,n);if("normal"===l.type){if(r=n.done?y:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=y,n.method="throw",n.arg=l.arg)}}}function q(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,q(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=b,o(T,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},_(M.prototype),u(M.prototype,c,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new M(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),u(T,l,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,H.prototype={constructor:H,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}({});try{regeneratorRuntime=Vn}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=Vn:Function("r","regeneratorRuntime = r")(Vn)}const er=(e,t=(()=>{}))=>{new Promise(((t,n)=>{const r=document.createElement("script");document.head.appendChild(r),r.onload=t,r.onerror=n,r.async=!0,r.src=e})).then(t)},tr=.3,nr={},rr=async function(e){try{return await async function(e){try{const n=await Promise.race([fetch(e),(t=10,new Promise((function(e,n){setTimeout((function(){n(new Error(`Request took too long! Timeout after ${t} second`))}),1e3*t)})))]),r=await n.json();if(!n.ok)throw new Error(`${r.message} (${n.status})`);return r}catch(e){throw"helper/model/utils.ts -> getJson: "+e}var t}(`https://app.kannamaps.de/api:uxQm4-cT/product/${e}`)}catch(e){throw"model.ts -> init: "+e}};function or(){window.KannaMaps;const e={},t=document.querySelector('[c-el="product-details"]'),n=document.querySelector('[c-el="community-data"]'),r=document.querySelector('[c-el="apothecaries-popup"]'),o=document.querySelector('[c-el="top-apothecaries-list"]'),a=document.querySelector('[c-el="all-apothecaries-list"]');return e.productDetails=t,e.communityData=n,e.apothecariesPopup=r,e.topApothecariesList=o,e.allApothecariesList=a,e}function ar(e){const t=e.split(/[\s-]+/).map((e=>{if(e.length>0){const t=e.charAt(0),n=e.slice(1);return t.toUpperCase()+n}return e}));return e.split(/\b/).map(((e,n)=>0===t.length?"":e.match(/[A-Za-z]/)?t.shift():e)).join("")}function ir(e){const t=window.KannaMaps,n=t.elements.productDetails,r=t.elements.communityData,o=t.elements.apothecariesPopup,a=t.elements.topApothecariesList,i=t.elements.allApothecariesList,c=t.productData,l=parseFloat(tr.toString());if(u=n,!("object"==typeof HTMLElement?u instanceof HTMLElement:u&&"object"==typeof u&&null!==u&&1===u.nodeType&&"string"==typeof u.nodeName))return console.error("KannaMaps -> render.ts: Couldn't find list and/or template!",n),!1;var u;e||(console.log("rendering"),function(e,t){const n="available"===t.data.apothecaries_data.availability_status,r=e.querySelector('[c-el="available"]'),o=e.querySelector('[c-el="not-available"]');console.log("isProductAvialable",n),console.log("availableEl",r),console.log("notAvailableEl",o),n?o?.classList.add("hide"):r?.classList.add("hide");const a=t.data.detailed["Terpendichteâmg/g"],i=e.querySelector('[c-el="terpendichte"]');i&&(i.innerHTML=a?`${a} mg/g`:"n.v.");const c=t.data.apothecaries_data.price_min,l=t.data.apothecaries_data.price_max,u=e.querySelector('[c-el="min-price"]'),s=e.querySelector('[c-el="max-price"]');u&&(u.innerHTML=c||"n.v."),s&&(s.innerHTML=l||"n.v.");const f=function(e){const t=["Sorte","Kultivar","Genetik","GehaltâTHC","GehaltâCBD","Hersteller","Bestrahlung","Terpendichteâmg/g"],n=Object.keys(e).filter((n=>!t.includes(n)&&null!==e[n])).map((t=>({key:ar(t.replace("â"," ")),value:e[t],percentage:0})));n.sort(((e,t)=>parseFloat(t.value)-parseFloat(e.value)));const r=n.reduce(((e,t)=>e+parseFloat(t.value)),0);return n.forEach((e=>{e.percentage=Math.round(parseFloat(e.value)/r*100)})),console.log("terpenes",n),n}(t.data.detailed);e.querySelectorAll('[c-el="terpene"]').forEach(((e,t)=>{const n=f[t],r=e.querySelector('[c-el="name"]'),o=e.querySelector('[c-el="color"]'),a=e.querySelector('[c-el="percentage"]');r&&o&&a&&(o.classList.remove("alpha-humulene","linalool","d-limonene","fenchyl"),n?(r.innerHTML=n.key,o.classList.add(n.key.toLowerCase().replace(" ","-")),a.innerHTML=`${n.percentage}%`):(r.innerHTML="n.v.",a.innerHTML="-"))}));const p=fr(t.data.community_data.detailed.area_of_application)[0],d=e.querySelector('[c-el="area-of-application"]');d&&(d.innerHTML=p?p.name:"n.v.");const h=ur(t.data.community_data.detailed.positive_effects)[0],y=e.querySelector('[c-el="effect"]');y&&(y.innerHTML=h?h.name:"n.v.");const m=sr(t.data.community_data.detailed.taste)[0],v=e.querySelector('[c-el="taste"]');v&&(v.innerHTML=m?m.name:"n.v.");const g=t.data.community_data.rating,b=t.data.community_data.ratings,S=e.querySelector('[c-el="rating-stars"]');S&&cr(S,g,b)}(n,c),function(e,t){const n=ur(t.data.community_data.detailed.positive_effects);e.querySelectorAll('[c-el="effect"]').forEach(((e,t)=>{const r=n[t],o=e.querySelector('[c-el="name"]'),a=e.querySelector('[c-el="percentage"]'),i=e.querySelector('[c-el="link"]');o&&a&&i&&(r?(o.innerHTML=r.name,a.innerHTML=`(${r.percentage}%)`,i.href=`/?effekt=${lr(r.name)}`):(o.innerHTML="n.v.",a.innerHTML="(-)"))}));const r=function(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));const r=t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})));return r}(t.data.community_data.detailed.side_effects);e.querySelectorAll('[c-el="side-effect"]').forEach(((e,t)=>{const n=r[t],o=e.querySelector('[c-el="name"]'),a=e.querySelector('[c-el="percentage"]'),i=e.querySelector('[c-el="link"]');o&&a&&i&&(n?(o.innerHTML=n.name,a.innerHTML=`(${n.percentage}%)`,i.href=`/?nebenwirkung=${lr(n.name)}`):(o.innerHTML="n.v.",a.innerHTML="(-)"))}));const o=function(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));const r=t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})));return r}(t.data.community_data.detailed.activities),a=e.querySelectorAll('[c-el="activity"]');console.log("activities",o),console.log("activitiesEls",a),a.forEach(((e,t)=>{const n=o[t],r=e.querySelector('[c-el="name"]'),a=e.querySelector('[c-el="percentage"]'),i=e.querySelector('[c-el="link"]');r&&a&&i&&(n?(r.innerHTML=n.name,a.innerHTML=`(${n.percentage}%)`,i.href=`/?aktivitÃ¤t=${lr(n.name)}`):(r.innerHTML="n.v.",a.innerHTML="(-)"))}));const i=sr(t.data.community_data.detailed.taste);e.querySelectorAll('[c-el="taste"]').forEach(((e,t)=>{const n=i[t],r=e.querySelector('[c-el="name"]'),o=e.querySelector('[c-el="percentage"]'),a=e.querySelector('[c-el="link"]');r&&o&&a&&(n?(r.innerHTML=n.name,o.innerHTML=`(${n.percentage}%)`,a.href=`/?geschmack=${lr(n.name)}`):(r.innerHTML="n.v.",o.innerHTML="(-)"))}));const c=fr(t.data.community_data.detailed.area_of_application);e.querySelectorAll('[c-el="area-of-application"]').forEach(((e,t)=>{const n=c[t],r=e.querySelector('[c-el="name"]'),o=e.querySelector('[c-el="percentage"]'),a=e.querySelector('[c-el="link"]');r&&o&&a&&(n?(r.innerHTML=n.name,o.innerHTML=`(${n.percentage}%)`,a.href=`/?anwendungsgebiet=${lr(n.name)}`):(r.innerHTML="n.v.",o.innerHTML="(-)"))}));const l=function(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));const r=t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})));return r}(t.data.community_data.detailed.quality);e.querySelectorAll('[c-el="quality"]').forEach(((e,t)=>{const n=l[t],r=e.querySelector('[c-el="name"]'),o=e.querySelector('[c-el="percentage"]'),a=e.querySelector('[c-el="link"]');r&&o&&a&&(n?(r.innerHTML=n.name,o.innerHTML=`(${n.percentage}%)`,a.href=`/?qualitÃ¤t=${lr(n.name)}`):(r.innerHTML="n.v.",o.innerHTML="(-)"))})),pr(t.data.apothecaries_data.detailed);const u=t.data.community_data.rating,s=t.data.community_data.ratings,f=e.querySelector('[c-el="rating-stars"]');f&&cr(f,u,s)}(r,c),function(e,t){console.log("renderApothecariesPopup",t);const n=t.data.apothecaries_data.detailed,r=e.querySelector('[c-el="apothecary-list"]'),o=r?.querySelector('[c-el="apothecary"]')?.cloneNode(!0),a=e.querySelector('[c-el="type"]'),i=e.querySelector('[c-el="strain"]');console.log("apothecaries",n),console.log("apothecaryListEl",r),console.log("templateEl",o),r&&o&&a&&i&&(a.innerHTML=t.data?.type||"n.v.",i.innerHTML=t.data?.strain||"n.v.",r.innerHTML="",n.forEach((e=>{const t=o.cloneNode(!0),n=t.querySelector('[c-el="name"]'),a=t.querySelector('[c-el="price"]'),i=t.querySelector('[c-el="unavailable-dot"]');console.log("apothecaryEl",t),console.log("nameEl",n),console.log("priceEl",a),n&&a&&i&&(n.innerHTML=e._vendor.name||"n.v.",a.innerHTML=e.price?e.price.toString():"n.v.",i.style.display=e.available?"none":"block",r.appendChild(t))})))}(o,c),function(e,t){console.log("renderTopApothecaries");const n=pr(t.data.apothecaries_data.detailed),r=e,o=r?.querySelector('[c-el="apothecary"]')?.cloneNode(!0);r&&o&&(r.innerHTML="",n.slice(0,4).forEach((e=>{const t=o.cloneNode(!0),n=t.querySelector('[c-el="name"]'),a=t.querySelector('[c-el="city"]'),i=t.querySelector('[c-el="price"]'),c=t.querySelector('[c-el="available"]'),l=t.querySelector('[c-el="unavailable"]');n&&a&&i&&c&&l&&(t.href=e._vendor.live_url,n.innerHTML=e._vendor.name||"n.v.",a.innerHTML=e._vendor.Stadt||"n.v.",i.innerHTML=e.price?e.price.toFixed(2):"n.v.",c.style.display=e.available?"flex":"none",l.style.display=e.available?"none":"flex",r.appendChild(t))})))}(a,c),function(e,t){console.log("renderAllApothecaries");const n=pr(t.data.apothecaries_data.detailed),r=e,o=r?.querySelector('[c-el="apothecary"]')?.cloneNode(!0);console.log("apothecaries",n),console.log("apothecaryListEl",r),console.log("templateEl",o),console.log("parentEl",e),r&&o&&(r.innerHTML="",n.forEach((e=>{const t=o.cloneNode(!0),n=t.querySelector('[c-el="name"]'),a=t.querySelector('[c-el="price"]'),i=t.querySelector('[c-el="available"]'),c=t.querySelector('[c-el="unavailable"]'),l=t.querySelector('[c-el="link"]'),u=t.querySelector('[c-el="address"]'),s=t.querySelector('[c-el="zip-and-city"]'),f=t.querySelector('[c-el="email"]'),p=t.querySelector('[c-el="email-link"]'),d=t.querySelector('[c-el="phone"]'),h=t.querySelector('[c-el="phone-link"]');n&&a&&i&&c&&l&&u&&s&&f&&d&&p&&h&&(l.href=e._vendor.live_url,n.innerHTML=e._vendor.name||"n.v.",a.innerHTML=e.price?e.price.toFixed(2):"n.v.",i.style.display=e.available?"flex":"none",c.style.display=e.available?"none":"flex",u.innerHTML=e._vendor.strasse_und_nummer||"n.v.",s.innerHTML=`${e._vendor.PLZ} ${e._vendor.Stadt}`||"n.v.",f.innerHTML=e._vendor["E-Mail"]||"n.v.",p.href=`mailto:${e._vendor["E-Mail"]}`,d.innerHTML=e._vendor.Telefon||"n.v.",h.href=`tel:${e._vendor.Telefon}`,r.appendChild(t))})))}(i,c));const s={opacity:0,display:"none",pointerEvents:"none"},f={opacity:1,display:"block",pointerEvents:"auto"};let p=1;t.gsap&&(p=t.gsap.progress(),t.gsap.kill());const d=gsap.timeline({paused:!0});t.gsap=d;const h=[],y=document.querySelector('[c-el="skeleton"]');y&&h.push(y),d.fromTo(h,e?s:f,e?{...f,duration:l,ease:"power1.inOut"}:{...s,duration:l,ease:"power1.inOut"}),d.progress(1-p),d.play()}function cr(e,t,n){const r=e?.querySelectorAll('[c-el="star"]'),o=e?.querySelector('[c-el="count"]');r&&t&&r.forEach(((e,n)=>{const r=Math.round(100*(Math.min(n+1,t)-n));if(r<0)return;const o=`gradient-${function(){const e=String.fromCharCode(65+Math.floor(26*Math.random()));return e+Date.now()}()}-${n}`,a=e.querySelector("svg");if(!a)return;a.querySelector("linearGradient")?.setAttribute("id",o);const i=a.querySelectorAll("stop"),c=i[i.length-1],l=i[i.length-2];if(!c||!l)return;c.setAttribute("offset",`${r}%`),l.setAttribute("offset",`${r}%`);const u=a.querySelector("path");u&&u.setAttribute("fill",`url(#${o})`)})),o&&(o.innerHTML=n.toString())}function lr(e){return e.toLowerCase().replace(/\s+/g,"+").replace(/--+/g,"-").trim()}function ur(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));return t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})))}function sr(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));return t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})))}function fr(e){const t=e,n=t.reduce(((e,t)=>e+t.total_confirmations),0);t.sort(((e,t)=>t.total_confirmations-e.total_confirmations));return t.map((e=>({...e,percentage:Math.round(e.total_confirmations/n*100)})))}function pr(e){const t=e;return t.sort(((e,t)=>e.price-t.price)),t}function dr(e){e.elements=or(),e.renderProductData=(e=!1)=>{ir(e)},e.renderProductData()}((e,...t)=>{!function n(r){r!==t.length?"undefined"===t[r].type?er(t[r].src,(()=>n(r+1))):n(r+1):"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(0)})((async function(){console.log("Hello, I'm KannaMaps!"),window.KannaMaps=nr,await async function(){try{nr.getProductData=async()=>{const e=document.querySelector("body")?.getAttribute("xano-id");if(!e)throw"No Xano ID found";const t=await rr(e);return nr.productData=t,t},await nr.getProductData()}catch(e){throw"model.ts -> init: "+e}}(),console.log("model.state",nr),dr(nr)}),{type:typeof gsap,src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"});
